<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Book</title>
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body onload="editDetails()">
    <header>

        <h1> <img src="/img/logo.png" alt="Logo" height="40px" width="55px"> Digital Library</h1>
    </header>
    <h2> <i>
            <marquee direction="right">Welcome to digital library </marquee>
        </i>
    </h2>
    <p id="e" style="color: rgb(16, 82, 23); text-align: center;" class="msg"></p>
    <div class="container">
        <form id="form1 " name="form1">
            <h1 class="form-title">Update books here</h1>
            <select name="Category" id="category" class="form-input">
                <option>-Select-</option>
                <option value="news">news</option>
                <option value="HigherEducation">HigherEducation</option>
                <option value="ProfessionalCourses">ProfessionalCourses</option>
                <option value="Competitions">Competitions</option>
                <option value="Journals">Journals</option>
                <option value="School">School</option>
                <option value="Comics">Comics</option>
                <option value="General">General</option>
                <option value="Story Books">Story Books</option>
            </select>
            <input type="text" id="bookid" class="form-input" name="bookid" autofocus placeholder="Book-ID" required
                readonly>
            <input type="text" id="booktitle" class="form-input" name="booktitle" autofocus placeholder="Book Title"
                required>
            <input type="text" id="author" class="form-input" name="author" autofocus placeholder="Author" required>
            <input type="text" id="edition" class="form-input" name="edition" autofocus placeholder="Edition ex:1 or 2"
                required>
            <input type="text" id="no_of_books" class="form-input" name="no_of_books" autofocus
                placeholder="No.of books available" required>
            <input type="submit" class="form-button" value="Update" onclick="upd()">

        </form>
    </div>
    <script src="/javascript/viewBooks.js"></script>
    <script>
        function editDetails() {
            let books = JSON.parse(localStorage.getItem("books"));
            for (let book of books) {
                if (book.bookId == localStorage.getItem("bid")) {
                    document.getElementById("bookid").value = book.bookId;
                    document.getElementById("booktitle").value = book.bookTitle;
                    document.getElementById("author").value = book.author;
                    document.getElementById("edition").value = book.edition;
                    document.getElementById("no_of_books").value = book.no_of_books;
                }
            }
        }
    </script>
</body>

</html>